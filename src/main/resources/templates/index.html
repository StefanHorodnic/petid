<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml" xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <!--Fonts-->
        <link href="https://fonts.googleapis.com/css?family=Merienda+One" rel="stylesheet">
        <link href='https://fonts.googleapis.com/css?family=Poppins' rel='stylesheet'>

        <!--Css-->
        <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
        <link rel="stylesheet" href="style.css">

        <!--Javascript-->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
        <script type="text/javascript" th:src="@{/js/script.js}"></script>

        <title>petid</title>

        <link rel="icon" href="https://img.icons8.com/cotton/64/000000/dog-footprint.png"/>
    </head>
    <body>
        <nav class="navbar navbar-default">
            <div class="navbar-header">
                <a class="navbar-brand" href="#"><i class="fa fa-paw"></i>pet<b>id</b></a>
                <button type="button" data-target="#navbarCollapse" data-toggle="collapse" class="navbar-toggle">
                    <span class="navbar-toggler-icon"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
            </div>
            <div id="navbarCollapse" class="collapse navbar-collapse">
                <ul class="nav navbar-nav">
                    <li>
                        <a type="button" data-toggle="modal" data-target="#addAnimalModal">
                            <i class="fa fa-plus-circle"></i>
                            Adaugă animal
                        </a>
                    </li>
                </ul>
                <form class="navbar-form form-inline">
                    <div class="input-group search-box">
                        <input type="text" id="search" class="form-control" placeholder="caută după microcip, nume, proprietar">
                        <span class="input-group-addon"><i class="material-icons">&#xE8B6;</i></span>
                    </div>
                </form>
                <ul class="nav navbar-nav navbar-right">
                    <li class="dropdown">
                        <a href="#" data-toggle="dropdown" class="dropdown-toggle user-action">
                            <i class="fa fa-user-circle-o">
                                <span sec:authentication="principal.name"/>
                            </i>
                        </a>
                        <ul class="dropdown-menu">
                            <li><a href="#"><i class="fa fa-user-o"></i> Profile</a></li>
                            <li><a href="#"><i class="fa fa-calendar-o"></i> Calendar</a></li>
                            <li><a href="#"><i class="fa fa-sliders"></i> Settings</a></li>
                            <li class="divider"></li>
                            <li><a href="#" th:href="@{/logout}"><i class="material-icons">&#xE8AC;</i> Logout</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </nav>
        <div class="container">
            <div class="row">
                <table class="table table-hover">
                    <thead>
                    <tr>
                        <th class="text-center" scope="col">#</th>
                        <th class="text-center" scope="col">Nume</th>
                        <th class="text-center" scope="col">Specie</th>
                        <th class="text-center" scope="col">Rasă</th>
                        <th class="text-center" scope="col">Vârstă</th>
                        <th class="text-center" scope="col">Microcip</th>
                        <th class="text-center" scope="col">Proprietar</th>
                        <th class="text-center" scope="col">Acțiuni</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:each="animal : ${animals}">
                        <td class="text-center" th:text="${animal.id}"></td>
                        <td class="text-center" th:text="${animal.name}"></td>
                        <td class="text-center" th:text="${animal.species.name}"></td>
                        <td class="text-center" th:text="${animal.breed.name}"></td>
                        <td class="text-center" th:text="${animal.age}"></td>
                        <td class="text-center" th:text="${animal.microchip}"></td>
                        <td></td>
                        <td class="text-center">
                            <a href="#" class="nav">
                                <div class="one"></div>
                                <div class="two"></div>
                                <div class="three"></div>
                            </a>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="modal" id="addAnimalModal" tabindex="-1" role="dialog" aria-labelledby="modalTitle" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Adauga</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <form id="addAnimalForm" th:action="@{/addAnimal}" th:object="${animal}" method="post">
                            <label for="name">Nume</label>
                            <input type="text" class="form-control" th:field="*{name}" id="name">
                            <label for="microchipText">Microcip</label>
                            <input type="text" class="form-control" th:field="*{microchip}" id="microchipText">
                            <label for="speciesSelect">Specia</label>
                            <select id="speciesSelect" class="form-control selectpicker" th:onchange="updateBreedSelect()" th:field="*{species}">
                                <option disabled value="">Nothing selected</option>
                                <option th:each="species : ${allSpecies}"
                                        th:value="${species.id}"
                                        th:text="${species.name}"></option>
                            </select>
                            <label for="breedSelect">Rasa</label>
                            <select id="breedSelect" class="form-control" th:field="*{breed}"></select>
                            <label for="dateOfBirth">Data nașterii</label>
                            <input type="date" class="form-control" th:field="*{dateOfBirth}" id="dateOfBirth" format="yyyy-MM-dd">
                            <label for="sexSelect">Sex</label>
                            <select id="sexSelect" class="form-control" th:field="*{sex}" >
                                <option th:each="sex : ${T(com.petid.petid.model.Sex).values()}"
                                        th:value="${sex}"
                                        th:text="${sex}">
                            </select>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" th:field="*{neutered}" id="neuteredCheckBox"/>
                                <label class="form-check-label" for="neuteredCheckBox">Sterilizat(ă)</label>
                            </div>
                            <label for="colorText">Culoare</label>
                            <input type="text" class="form-control" th:field="*{color}" id="colorText">
                            <label for="distinctiveMarksText">Semne distinctive</label>
                            <input type="text" class="form-control" th:field="*{distinctiveMarks}" id="distinctiveMarksText">
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="submit" class="btn btn-primary" form ="addAnimalForm">Salvează</button>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>